<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixel Quote</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 0;
        }
        #canvas {
            position: relative;
            display: inline-block;
            width: 100%;
            height: 80vh;
            border: 1px solid black;
            cursor: crosshair;
        }
        #quote-input {
            display: block;
            margin: 1rem;
            padding: 0.5rem;
            font-size: 1rem;
            width: 90%;
            max-width: 400px;
        }
    </style>
</head>
<body>
    <input type="text" id="quote-input" placeholder="Type your quote here...">
    <div id="canvas" onclick="createPixel(event)"></div>

    <script>
        const canvas = document.getElementById('canvas');
        const quoteInput = document.getElementById('quote-input');
        const gridSize = 20;
        let lastPixelCreationTime = null;
        const pixelCreationCooldown = 300000; // 5 minutes in milliseconds

        function randomColor() {
            const letters = '0123456789ABCDEF';
            let color = '#';
            for (let i = 0; i < 6; i++) {
                color += letters[Math.floor(Math.random() * 16)];
            }
            return color;
        }

        function isPixelPresent(gridX, gridY) {
            const pixels = canvas.querySelectorAll('div');
            for (const pixel of pixels) {
                if (parseInt(pixel.style.left) === gridX && parseInt(pixel.style.top) === gridY) {
                    return true;
                }
            }
            return false;
        }

        function createPixel(event) {
            const currentTime = new Date().getTime();
            if (lastPixelCreationTime && currentTime - lastPixelCreationTime < pixelCreationCooldown) {
                const timeRemaining = Math.ceil((pixelCreationCooldown - (currentTime - lastPixelCreationTime)) / 1000);
                alert(`Please wait ${timeRemaining} seconds before creating another pixel.`);
                return;
            }

            const quote = quoteInput.value.trim();
            if (!quote) return;

            const gridX = Math.floor((event.pageX - canvas.offsetLeft) / gridSize) * gridSize;
            const gridY = Math.floor((event.pageY - canvas.offsetTop) / gridSize) * gridSize;

            if (isPixelPresent(gridX, gridY)) return;

            const pixel = document.createElement('div');
            pixel.style.position = 'absolute';
            pixel.style.width = `${gridSize}px`;
            pixel.style.height = `${gridSize}px`;
            pixel.style.backgroundColor = randomColor();
            pixel.style.left = `${gridX}px`;
            pixel.style.top = `${gridY}px`;

            pixel.onclick = function(event) {
                event.stopPropagation();
                alert(quote);
            };

            canvas.appendChild(pixel);
            lastPixelCreationTime = currentTime;
        }

        function handleClick(event) {
            const target = event.target;
            if (target === canvas) {
                createPixel(event);
            }
        }

        canvas.addEventListener('click', handleClick);
    </script>
</body>
</html>